<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>simpler-zone</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">simpler-zone</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<hr />
<p>SimplerZone is the successor to LessSimpleZone &amp; SimpleZone, a versatile &amp; flexible spatial zone module for tracking where and when specific items enter specific areas of your game, doing spatial checks, etc.</p>
<p>To use the module, download the .rbxm binary from the releases of the GitHub.</p>
<p>The general hierarchy of objects inside the SimplerZone library:
<img src="./simplerzone_hierarchy.png" alt="module hierarchy" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="misc-types"><a class="header" href="#misc-types">Misc Types</a></h1>
<hr />
<p>A collection of smaller utility types the module uses.</p>
<h2 id="definition"><a class="header" href="#definition">Definition</a></h2>
<hr />
<pre><code class="language-luau">export type Shape = BoxShape | CylinderShape | SphereShape | WedgeShape | GroupShape | MeshShape
export type Disconnector = () -&gt; ()
export type ZoneItems = {
	parts: {BasePart},
	models: {Model},
	players: {Player},
	attachments: {Attachment},
	pvinstances: {PVInstance},
}
export type ZoneItem = {
	part: BasePart?,
	model: Model?,
	player: Player?,
	attachment: Attachment?,
	pvinstance: PVInstance?,
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="shape"><a class="header" href="#shape">Shape</a></h1>
<hr />
<p>A <code>Shape</code> is an elementary object that defines, well, the shape of your <code>Zone</code>s. <code>Shape</code>s aren't defined by <code>Instance</code>s with the exception of <code>MeshShape</code>, so you can create and use them even without explicitly making parts for them inside the workspace.</p>
<p>Most shapes will have a <code>.transform</code> property, this property determines the offset of the <code>Shape</code> from the <code>.cframe</code> of the <code>ShapeInstance</code> that uses it. In the case of <code>SphereShape</code>s, <code>.transform</code> isn't present and instead is replaced by <code>.center</code></p>
<p>During usage of <code>Shape</code>s within <code>ShapeInstances</code>, it is gauranteed that the properties of your <code>Shape</code>s will not change. So it is okay to reference 1 <code>Shape</code> multiple times</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="boxshape"><a class="header" href="#boxshape">BoxShape</a></h1>
<hr />
<h2 id="definition-1"><a class="header" href="#definition-1">Definition</a></h2>
<hr />
<pre><code class="language-luau">{
    ty: "Box",
    transform: CFrame,
    size: vector
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sphereshape"><a class="header" href="#sphereshape">SphereShape</a></h1>
<hr />
<h2 id="definition-2"><a class="header" href="#definition-2">Definition</a></h2>
<hr />
<pre><code class="language-luau">{
    ty: "Sphere",
    center: vector,
    radius: number
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cylindershape"><a class="header" href="#cylindershape">CylinderShape</a></h1>
<hr />
<h2 id="definition-3"><a class="header" href="#definition-3">Definition</a></h2>
<hr />
<pre><code class="language-luau">{
    ty: "Cylinder",
    center: vector,
	axis: vector,
	radius: number,
	transform: CFrame,
	size: vector,
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wedgeshape"><a class="header" href="#wedgeshape">WedgeShape</a></h1>
<hr />
<h2 id="definition-4"><a class="header" href="#definition-4">Definition</a></h2>
<hr />
<pre><code class="language-luau">{
    ty: "Wedge",
	transform: CFrame,
	size: vector,
	vertices: {vector}
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="meshshape"><a class="header" href="#meshshape">MeshShape</a></h1>
<hr />
<h2 id="definition-5"><a class="header" href="#definition-5">Definition</a></h2>
<hr />
<pre><code class="language-luau">{
    ty: "Mesh",
	transform: CFrame,
	size: vector,
	mesh: MeshPart
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="groupshape"><a class="header" href="#groupshape">GroupShape</a></h1>
<hr />
<h2 id="definition-6"><a class="header" href="#definition-6">Definition</a></h2>
<hr />
<pre><code class="language-luau">{
    ty: "Group",
	transform: CFrame,
	shapes: {Shape}
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="shapeinstance"><a class="header" href="#shapeinstance">ShapeInstance</a></h1>
<hr />
<p>If <code>Shape</code>s were akin to Mesh Ids, then <code>ShapeInstance</code>s would be MeshParts.</p>
<p><code>ShapeInstance</code>s define an instance of a <code>Shape</code>, specifying its world <code>.cframe</code>, and <code>.scale</code>.</p>
<h2 id="definition-7"><a class="header" href="#definition-7">Definition</a></h2>
<hr />
<pre><code class="language-luau">{
    toParts: (ShapeInstance, overrideCFrame: CFrame?) -&gt; {BasePart},
	syncWithPart: (ShapeInstance, part: BasePart) -&gt; Disconnector,
	syncWithAttachment: (ShapeInstance, attachment: Attachment) -&gt; Disconnector,
	attach: (ShapeInstance, zone: Zone) -&gt; (),
	detach: (ShapeInstance) -&gt; (),
	
	cframe: CFrame,
	scale: vector,
	zones: {Zone},
	shape: Shape,
}
</code></pre>
<h2 id="methods"><a class="header" href="#methods">Methods</a></h2>
<hr />
<h3 id="shapeinstanceattachzone-zone---"><a class="header" href="#shapeinstanceattachzone-zone---">ShapeInstance:attach(zone: Zone) -&gt; ()</a></h3>
<p>Attaches this <code>ShapeInstance</code> to <code>zone</code>, adding to its geometry.</p>
<h3 id="shapeinstancedetachzone-zone---"><a class="header" href="#shapeinstancedetachzone-zone---">ShapeInstance:detach(zone: Zone) -&gt; ()</a></h3>
<p>Removes this <code>ShapeInstance</code> from the <code>zone</code>, removing from its geometry.</p>
<h3 id="shapeinstancedetachall---"><a class="header" href="#shapeinstancedetachall---">ShapeInstance:detachAll() -&gt; ()</a></h3>
<p>Removes this <code>ShapeInstance</code> from all attached <code>zone</code>s</p>
<h3 BasePart="">ShapeInstance:toParts(overrideCFrame: CFrame? = CFrame.identity) -&gt;</h3>
<p>Creates an array of <code>BasePart</code>s from a <code>ShapeInstance</code>. The world CFrame will be centered around <code>overrideCFrame</code></p>
<h3 id="shapeinstancesyncwithpartpart-basepart---"><a class="header" href="#shapeinstancesyncwithpartpart-basepart---">ShapeInstance:syncWithPart(part: BasePart) -&gt; ()</a></h3>
<p>Syncs the <code>ShapeInstance</code> with a <code>BasePart</code>. When the <code>BasePart</code> moves, so does the <code>ShapeInstance</code>, updating any <code>Zone</code>s it's attached to.</p>
<h3 id="shapeinstancesyncwithattachmentattachment-attachment---"><a class="header" href="#shapeinstancesyncwithattachmentattachment-attachment---">ShapeInstance:syncWithAttachment(attachment: Attachment) -&gt; ()</a></h3>
<p>Syncs the <code>ShapeInstance</code> with an <code>Attachment</code>. When the <code>Attachment</code> moves (<code>.WorldCFrame</code>), so does the <code>ShapeInstance</code>, updating any <code>Zone</code>s it's attached to.</p>
<h2 id="fields"><a class="header" href="#fields">Fields</a></h2>
<hr />
<h3 id="shapeinstanceshape-shape"><a class="header" href="#shapeinstanceshape-shape">ShapeInstance.shape: Shape</a></h3>
<p>Defines the form/shape of this <code>ShapeInstance</code>.</p>
<h3 id="shapeinstancecframe-cframe"><a class="header" href="#shapeinstancecframe-cframe">ShapeInstance.cframe: CFrame</a></h3>
<p>The world <code>CFrame</code> of this <code>ShapeInstance</code>. The <code>.shape</code> field will be transformed by this fields value.</p>
<p>When mutating this field, make sure to call <code>Zone:rebuild()</code> on all <code>Zone</code>s inside <code>ShapeInstance.zones</code> so that the change registers properly.</p>
<h3 id="shapeinstancescale-vector"><a class="header" href="#shapeinstancescale-vector">ShapeInstance.scale: vector</a></h3>
<p>The scale modifier to apply to the <code>.shape</code> fields values size.</p>
<h3 Zone="">ShapeInstance.zones:</h3>
<p>All <code>Zone</code>s that this <code>ShapeInstance</code> is attached to.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="zone"><a class="header" href="#zone">Zone</a></h1>
<hr />
<p><code>Zone</code>s are the main object of the <code>SimplerZone</code> library. <code>Zone</code>s are composed of <code>ShapeInstance</code>s and contain methods to manipulate/use them.</p>
<h2 id="definition-8"><a class="header" href="#definition-8">Definition</a></h2>
<hr />
<pre><code class="language-luau">{
	getRandomPoint: (Zone) -&gt; vector,
	isPointInZone: (Zone, point: vector) -&gt; boolean,
	isBoxInZone: (Zone, cframe: CFrame, size: vector) -&gt; boolean,
	rebuild: (Zone) -&gt; (),
	rebuildIfDirty: (Zone) -&gt; (),
	
	shapes: {ShapeInstance},
	bvh: Geometry.BvhNode,
	boxes: {Geometry.Box},
	bvhDirty: boolean,
}
</code></pre>
<h2 id="methods-1"><a class="header" href="#methods-1">Methods</a></h2>
<hr />
<h3 id="zonegetrandompoint---vector"><a class="header" href="#zonegetrandompoint---vector">Zone:getRandomPoint() -&gt; vector</a></h3>
<p>Returns a random point inside any of the <code>ShapeInstance</code>s this <code>Zone</code> is composed of.</p>
<h3 id="zoneispointinzonepoint-vector---boolean"><a class="header" href="#zoneispointinzonepoint-vector---boolean">Zone:isPointInZone(point: vector) -&gt; boolean</a></h3>
<p>Checks if <code>point</code> is inside any of the <code>ShapeInstance</code>s this <code>Zone</code> is composed of.</p>
<h3 id="zoneisboxinzonecframe-cframe-size-vector---boolean"><a class="header" href="#zoneisboxinzonecframe-cframe-size-vector---boolean">Zone:isBoxInZone(cframe: CFrame, size: vector) -&gt; boolean</a></h3>
<p>Checks if a box, defined by <code>cframe</code> and <code>size</code>, is inside any of the <code>ShapeInstance</code>s this <code>Zone</code> is composed of.</p>
<h3 id="zonerebuild---"><a class="header" href="#zonerebuild---">Zone:rebuild() -&gt; ()</a></h3>
<p>Rebuilds the static geometry of this <code>Zone</code>. Should be called if any of the <code>ShapeInstance</code>s this <code>Zone</code> is composed of is mutated in some way.</p>
<h3 id="zonerebuildifdirty---"><a class="header" href="#zonerebuildifdirty---">Zone:rebuildIfDirty() -&gt; ()</a></h3>
<p>Calls <code>Zone:rebuild()</code> if <code>Zone.bvhDirty</code> is true.</p>
<h2 id="fields-1"><a class="header" href="#fields-1">Fields</a></h2>
<p>--</p>
<h3 ShapeInstance="">Zone.shapes:</h3>
<p>The <code>ShapeInstance</code>s this <code>Zone</code> is composed of.</p>
<h3 id="zonebvh-bvhnode"><a class="header" href="#zonebvh-bvhnode">Zone.bvh: BvhNode</a></h3>
<p>The root <code>BvhNode</code> this <code>Zone</code> uses to optimize bounds checking.</p>
<h3 id="zonebvhdirty-boolean"><a class="header" href="#zonebvhdirty-boolean">Zone.bvhDirty: boolean</a></h3>
<p>If <code>Zone.bvh</code> should be rebuilt at some point.</p>
<h3 Box="">Zone.boxes:</h3>
<p>The bounding box of each <code>ShapeInstance</code> in <code>Zone.shapes</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="zonelistener"><a class="header" href="#zonelistener">ZoneListener</a></h1>
<hr />
<p>A <code>ZoneListener</code> is an object that can listen to when certain items enter the geometric boundaries of a <code>Zone</code> defined by its <code>ShapeInstance</code>s.</p>
<h2 id="definition-9"><a class="header" href="#definition-9">Definition</a></h2>
<hr />
<pre><code class="language-luau">setmetatable&lt;{
	onEnter: (ZoneListener, fn: (item: ZoneItem) -&gt; ()) -&gt; Disconnector,
	onExit: (ZoneListener, fn: (item: ZoneItem) -&gt; ()) -&gt; Disconnector,
	observe: (ZoneListener, fn: (item: ZoneItem) -&gt; (() -&gt; ())?) -&gt; Disconnector,

	setGroups: (ZoneListener, groups: {TrackGroup}) -&gt; (),

	subscribe: (ZoneListener, zone: Zone) -&gt; (),
	unsubscribe: (ZoneListener, zone: Zone) -&gt; (),
	unsubscribeAll: (ZoneListener) -&gt; (),

	precision: "Part" | "BoundingBox",
	queryShape: "Point" | "Box",
	groups: {TrackGroup},
	zones: {Zone},
	itemsInside: ZoneItems,

	iter: (ZoneListener) -&gt; () -&gt; ZoneItem,
	data: ZoneListenerData
}, {__iter: (ZoneListener) -&gt; () -&gt; ZoneItem}&gt;
</code></pre>
<h2 id="methods-2"><a class="header" href="#methods-2">Methods</a></h2>
<hr />
<h3 id="zonelistenersubscribezone-zone---"><a class="header" href="#zonelistenersubscribezone-zone---">ZoneListener:subscribe(zone: Zone) -&gt; ()</a></h3>
<p>Subscribes this <code>ZoneListener</code> to the <code>Zone</code>, making any item this listener is tracking who enters the geometric boundaries of the <code>Zone</code> fire events.</p>
<h3 id="zonelistenerunsubscribezone-zone---"><a class="header" href="#zonelistenerunsubscribezone-zone---">ZoneListener:unsubscribe(zone: Zone) -&gt; ()</a></h3>
<p>Unsubscribes this <code>ZoneListener</code> from <code>zone</code>, cleaning up any internal listeners and events in the process.</p>
<h3 id="zonelistenerunsubscribeall---"><a class="header" href="#zonelistenerunsubscribeall---">ZoneListener:unsubscribeAll() -&gt; ()</a></h3>
<p>Unsubscribes this <code>ZoneListener</code> from all <code>Zone</code>s it's subscribed to.</p>
<h3 id="zonelisteneronenterfn-item-zoneitem------disconnector"><a class="header" href="#zonelisteneronenterfn-item-zoneitem------disconnector">ZoneListener:onEnter(fn: (item: ZoneItem) -&gt; ()) -&gt; Disconnector</a></h3>
<p>Connects <code>fn</code> to be called when any <code>ZoneItem</code> enters the geometric boundaries of any subscribed <code>Zone</code></p>
<h3 id="zonelisteneronexitfn-item-zoneitem------disconnector"><a class="header" href="#zonelisteneronexitfn-item-zoneitem------disconnector">ZoneListener:onExit(fn: (item: ZoneItem) -&gt; ()) -&gt; Disconnector</a></h3>
<p>Connects <code>fn</code> to be called when any <code>ZoneItem</code> exits the geometric boundaries of any subscribed <code>Zone</code></p>
<h3 id="zonelistenersetgroupsgroups-trackgroup---"><a class="header" href="#zonelistenersetgroupsgroups-trackgroup---">ZoneListener:setGroups(groups: {TrackGroup}) -&gt; ()</a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="trackgroup"><a class="header" href="#trackgroup">TrackGroup</a></h1>
<hr />
<p><code>TrackGroup</code>s are containers that contain items that <code>ZoneListener</code>s should be tracking for when they enter/exit the <code>Zone</code>s it's listening to.</p>
<h2 id="definition-10"><a class="header" href="#definition-10">Definition</a></h2>
<hr />
<pre><code class="language-luau">{
	update: (TrackGroup) -&gt; (),
	removeFrom: (TrackGroup, listener: ZoneListener) -&gt; (),
	addItem: (TrackGroup, item: ZoneItem) -&gt; (),
	addItems: (TrackGroup, items: ZoneItems) -&gt; (),
	removeItem: (TrackGroup, item: ZoneItem) -&gt; (),
	removeItems: (TrackGroup, items: ZoneItems) -&gt; (),
	clear: (TrackGroup) -&gt; (),
	
	mutable: ZoneItems,
	immutable: ZoneItems,
	listeners: {ZoneListener}
}
</code></pre>
<h2 id="methods-3"><a class="header" href="#methods-3">Methods</a></h2>
<hr />
<h3 id="trackgroupupdate---"><a class="header" href="#trackgroupupdate---">TrackGroup:update() -&gt; ()</a></h3>
<p>Moves items inside <code>TrackGroup.mutable</code> into <code>TrackGroup.immutable</code>, updating any listeners in the process.</p>
<h3 id="trackgroupremovefromlistener-zonelistener"><a class="header" href="#trackgroupremovefromlistener-zonelistener">TrackGroup:removeFrom(listener: ZoneListener)</a></h3>
<p>Removes this <code>TrackGroup</code> from the <code>listener</code>, making it no longer tracked for that listener.</p>
<h3 id="trackgroupadditemitem-zoneitem---"><a class="header" href="#trackgroupadditemitem-zoneitem---">TrackGroup:addItem(item: ZoneItem) -&gt; ()</a></h3>
<p>Tracks the items inside <code>ZoneItem</code>, updating any listeners in the process.</p>
<h3 id="trackgroupadditemsitem-zoneitems---"><a class="header" href="#trackgroupadditemsitem-zoneitems---">TrackGroup:addItems(item: ZoneItems) -&gt; ()</a></h3>
<p>Tracks the items inside <code>ZoneItems</code>, updating any listeners in the process.</p>
<h3 id="trackgroupremoveitemitem-zoneitem---"><a class="header" href="#trackgroupremoveitemitem-zoneitem---">TrackGroup:removeItem(item: ZoneItem) -&gt; ()</a></h3>
<p>Untracks the items inside <code>ZoneItem</code>, updating any listeners in the process.</p>
<h3 id="trackgroupremoveitemsitems-zoneitems---"><a class="header" href="#trackgroupremoveitemsitems-zoneitems---">TrackGroup:removeItems(items: ZoneItems) -&gt; ()</a></h3>
<p>Untracks the items inside <code>ZoneItems</code>, updating any listeners in the process.</p>
<h3 id="trackgroupclear---"><a class="header" href="#trackgroupclear---">TrackGroup:clear() -&gt; ()</a></h3>
<p>Removes all tracked items within this <code>TrackGroup</code>.</p>
<h2 id="fields-2"><a class="header" href="#fields-2">Fields</a></h2>
<hr />
<h3 id="trackgroupmutable-zoneitems"><a class="header" href="#trackgroupmutable-zoneitems">TrackGroup.mutable: ZoneItems</a></h3>
<p>A mutable list of tracked items that have not yet been registered into listeners.</p>
<h3 id="trackgroupimmutable-zoneitems"><a class="header" href="#trackgroupimmutable-zoneitems">TrackGroup.immutable: Zoneitems</a></h3>
<p>An immutable list of tracked items that have been registered into listeners.</p>
<h3 ZoneListener="">TrackGroup.listeners:</h3>
<p>All <code>ZoneListener</code>s currently tracking this <code>TrackGroup</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="examples"><a class="header" href="#examples">Examples</a></h1>
<hr />
<p>Some simple examples to help you grasp how to use SimplerZone in common usecases.</p>
<div style="break-before: page; page-break-before: always;"></div><pre><code class="language-luau">--!strict
local Zone = require("@game/ReplicatedStorage/SimplerZone")
local Players = game:GetService("Players")

-- Build zone from all parts inside workspace.SafeZone
local shapeInstances = {}
for _, part in workspace.SafeZone:GetChildren() do
    assert(part:IsA("BasePart"))
    table.insert(shapeInstances, Zone.shapeInstance.fromPart(part))
end

local safeZone = Zone.new(shapeInstances)

local listener = Zone.listener.new({
    groups = { Zone.defaultGroups.players },
    zones = { safeZone },
    precision = "BoundingBox",
    queryShape = "Point",
})

listener:observe(function(item)
    local plr = item.player
    if not plr then return end

    -- Grant invincibility on enter
    plr:SetAttribute("InSafeZone", true)
    print(`[SafeZone] {plr.Name} is now protected`)

    return function()
        -- Revoke invincibility on exit
        plr:SetAttribute("InSafeZone", false)
        print(`[SafeZone] {plr.Name} left protection`)
    end
end)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><pre><code class="language-luau">--!strict
local Zone = require("@game/ReplicatedStorage/SimplerZone")

-- Build zone from all parts inside workspace.KillZone
local shapeInstances = {}
for _, part in workspace.KillZone:GetChildren() do
    assert(part:IsA("BasePart"))
    table.insert(shapeInstances, Zone.shapeInstance.fromPart(part))
end

local killZone = Zone.new(shapeInstances)

local listener = Zone.listener.new({
    groups = {Zone.defaultGroups.players},
    zones = {killZone},
    precision = "Part", -- If any part of the player touches the killzone it should register
    queryShape = "Box", -- Detect the whole part, not just the center
})

listener:onEnter(function(item)
    local plr = item.player
    local character = item.model
    if not plr or not character then return end

    -- Kill the player immediately on entry
    local humanoid = character:FindFirstChildWhichIsA("Humanoid")
    if humanoid then
        humanoid.Health = 0
        print(`[KillZone] {plr.Name} was eliminated`)
    end
end)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><pre><code class="language-luau">--!strict
local Zone = require("@game/ReplicatedStorage/SimplerZone")

local hitboxShape = Zone.shape.new("Box", CFrame.identity, vector.create(4, 6, 4))
local hitboxZone = Zone.new()

local listener = Zone.listener.new({
    groups = {Zone.defaultGroups.players},
    zones = {hitboxZone},
    precision = "BoundingBox",
    queryShape = "Point",
})

-- Tick damage while player overlaps the hitbox
listener:observe(function(item)
    local plr = item.player
    local character = item.model
    if not plr or not character then return end

    local humanoid = character:FindFirstChildWhichIsA("Humanoid")

    print(`[Hitbox] {plr.Name} entered {enemy.Name}'s attack range`)

    local connection = game:GetService("RunService").Heartbeat:Connect(function()
        if humanoid and humanoid.Health &gt; 0 then
            humanoid:TakeDamage(damage)
        end
    end)

    return function()
        connection:Disconnect()
        print(`[Hitbox] {plr.Name} escaped {enemy.Name}'s attack range`)
    end
end)

-- Attach a damage hitbox to a single enemy NPC
local function attachEnemyHitbox(enemy: Model, damage: number)
    local rootAttach = assert(enemy:FindFirstChild("RootAttachment", true))

    local shapeInst = Zone.shapeInstance.new(hitboxShape)

    -- Keep the shape synced as the enemy moves
    shapeInst:syncWithAttachment(rootAttach)
    shapeInst:attach(hitboxZone)
    hitboxZone:rebuild()
end

-- Example: attach hitbox to every enemy in workspace.Enemies
for _, enemy in workspace.Enemies:GetChildren() do
    if enemy:IsA("Model") then
        attachEnemyHitbox(enemy, 5) -- 5 damage per heartbeat tick
    end
end
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>


    </div>
    </body>
</html>
